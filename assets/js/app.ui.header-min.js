!function(t){if("function"==typeof define&&define.amd){var e=["jquery","underscore"];define("app.ui.header",e,t)}else if("object"==typeof module&&module&&"object"==typeof module.exports)module.exports=t;else{var o=window.jQuery||window.Zepto||window.vQuery;t(o,window._)}}(function(t,e){var o="object"==typeof window&&"object"==typeof window.document,i=o&&window.APP?window.APP:{},s="undefined"!=typeof i.View?i.View:null,n=function(t,o){var i,s=this;t&&e.each(t,function(o,i){"string"!=typeof o&&"boolean"!=typeof o&&(!(i in s.prototype)||o instanceof Function||s.prototype[i]instanceof Function||(t[i]=e.extend({},s.prototype[i],o)))}),i=t&&e.has(t,"constructor")?t.constructor:function(){return s.apply(this,arguments)},e.extend(i,s,o);var n=function(){this.constructor=i};return n.prototype=s.prototype,i.prototype=Object.create(new n),t&&(i.prototype=e.extend({},i.prototype,t)),i.__super__=s.prototype,i};s||(s=function(t){t.el&&(this.el=t.el,delete t.el),this.initialize&&this.initialize(t)},s.prototype.render=function(){this.postRender()},s.extend=n);var r=s.extend({el:"header.top",options:{scrollEl:"body",detatch:!1,detatchOffset:0,hide:!1,hideDir:"down"},events:{},headerScroll:function(){this.lastScroll=this.lastScroll||0;var e=t(window).scrollTop();this.scrollDir=e>this.lastScroll?"down":"up",this.lastScroll=e,this.options.hide?("down"==this.options.hideDir&&("down"==this.scrollDir&&e>0?(t(this.el).addClass("hidden"),this.translateTop(-1*t(this.el).height())):(t(this.el).removeClass("hidden"),this.translateTop())),"up"==this.options.hideDir&&("up"==this.scrollDir&&e>0?(t(this.el).addClass("hidden"),this.translateTop(-1*t(this.el).height())):(t(this.el).removeClass("hidden"),this.translateTop()))):t(this.el).hasClass("hidden")&&(t(this.el).removeClass("hidden"),this.translateTop()),this.options.detatch&&!t(this.el).hasClass("hidden")&&(e>this.options.detatchOffset?t(this.el).addClass("detatched"):t(this.el).removeClass("detatched"))},initialize:function(o){o=o||{},e.bindAll(this,"render","headerScroll"),this.options=e.extend({},this.options,o),t(window).scroll(this.headerScroll)},postRender:function(){this.el&&t(this.el).addClass("ui-header")},translateTop:function(e){e=e||0,t(this.el).css("-webkit-transform","translate(0,"+e+"px)"),t(this.el).css("-moz-transform","translate(0,"+e+"px)"),t(this.el).css("-o-transform","translate(0,"+e+"px)"),t(this.el).css("transform","translate(0,"+e+"px)")}});return i.UI=i.UI||{},i.UI.Header=r,o&&(window.APP=i),r});