!function(t){if("function"==typeof define&&define.amd){define("app.ui.header",["jquery","underscore"],t)}else if("object"==typeof module&&module&&"object"==typeof module.exports)module.exports=t;else{t(window.jQuery||window.Zepto||window.vQuery,window._)}}(function(e,n){var t="object"==typeof window&&"object"==typeof window.document,o=t&&window.APP?window.APP:{},i=void 0!==o.View?o.View:null;i||((i=function(t){t.el&&(this.el=t.el,delete t.el),this.initialize&&this.initialize(t)}).prototype.render=function(){this.postRender()},i.extend=function(o,t){var e,i=this;o&&n.each(o,function(t,e){"string"!=typeof t&&"boolean"!=typeof t&&(!(e in i.prototype)||t instanceof Function||i.prototype[e]instanceof Function||(o[e]=n.extend({},i.prototype[e],t)))}),e=o&&n.has(o,"constructor")?o.constructor:function(){return i.apply(this,arguments)},n.extend(e,i,t);function s(){this.constructor=e}return s.prototype=i.prototype,e.prototype=Object.create(new s),o&&(e.prototype=n.extend({},e.prototype,o)),e.__super__=i.prototype,e});var s=i.extend({el:"header.top",options:{scrollEl:"body",detatch:!1,detatchOffset:0,hide:!1,hideDir:"down"},events:{},headerScroll:function(){this.lastScroll=this.lastScroll||0;var t=e(window).scrollTop();t>this.lastScroll?this.scrollDir="down":this.scrollDir="up",this.lastScroll=t,this.options.hide?("down"==this.options.hideDir&&("down"==this.scrollDir&&0<t?(e(this.el).addClass("hidden"),this.translateTop(-1*e(this.el).height())):(e(this.el).removeClass("hidden"),this.translateTop())),"up"==this.options.hideDir&&("up"==this.scrollDir&&0<t?(e(this.el).addClass("hidden"),this.translateTop(-1*e(this.el).height())):(e(this.el).removeClass("hidden"),this.translateTop()))):e(this.el).hasClass("hidden")&&(e(this.el).removeClass("hidden"),this.translateTop()),this.options.detatch&&!e(this.el).hasClass("hidden")&&(t>this.options.detatchOffset?e(this.el).addClass("detatched"):e(this.el).removeClass("detatched"))},initialize:function(t){t=t||{},n.bindAll(this,"render","headerScroll"),this.options=n.extend({},this.options,t),e(window).scroll(this.headerScroll)},postRender:function(){this.el&&e(this.el).addClass("ui-header")},translateTop:function(t){t=t||0,e(this.el).css("-webkit-transform","translate(0,"+t+"px)"),e(this.el).css("-moz-transform","translate(0,"+t+"px)"),e(this.el).css("-o-transform","translate(0,"+t+"px)"),e(this.el).css("transform","translate(0,"+t+"px)")}});return o.UI=o.UI||{},o.UI.Header=s,t&&(window.APP=o),s});