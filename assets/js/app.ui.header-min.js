!function(e){if("function"==typeof define&&define.amd){var t=["jquery","underscore"];define("app.ui.header",t,e)}else if("object"==typeof module&&module&&"object"==typeof module.exports)module.exports=e;else{var i=window.jQuery||window.Zepto||window.vQuery;e(i,window._)}}(function(e,t){APP=APP||window.APP||null;var i=null!==APP,o=i&&"undefined"!=typeof APP.View?APP.View:Object,s=o.extend({el:"body",options:{headerEl:".top",mainEl:".main",detatch:!1,detatchOffset:0,hide:!1,hideDir:"down"},events:{},headerScroll:function(){this.lastScroll=this.lastScroll||0;var t=e(window).scrollTop();this.scrollDir=t>this.lastScroll?"down":"up",this.lastScroll=t,this.options.hide&&("down"==this.options.hideDir&&("down"==this.scrollDir&&t>0?(e(this.options.headerEl).addClass("ui-header-hide"),this.translateTop(-1*e(this.options.headerEl).height())):(e(this.options.headerEl).removeClass("ui-header-hide"),this.translateTop())),"up"==this.options.hideDir&&("up"==this.scrollDir&&t>0?(e(this.options.headerEl).addClass("ui-header-hide"),this.translateTop(-1*e(this.options.headerEl).height())):(e(this.options.headerEl).removeClass("ui-header-hide"),this.translateTop()))),this.options.detatch&&!e(this.options.headerEl).hasClass("ui-header-hide")&&(t>this.options.detatchOffset?e(this.options.headerEl).addClass("detatch"):e(this.options.headerEl).removeClass("detatch"))},initialize:function(){t.bindAll(this,"render","headerScroll"),e(window).scroll(this.headerScroll)},translateTop:function(t){t=t||0,e(this.options.headerEl).css("-webkit-transform","translate(0,"+t+"px)"),e(this.options.headerEl).css("-moz-transform","translate(0,"+t+"px)"),e(this.options.headerEl).css("-o-transform","translate(0,"+t+"px)"),e(this.options.headerEl).css("transform","translate(0,"+t+"px)")}});return i&&(APP.UI=APP.UI||{},APP.UI.Header=s),"object"==typeof window&&"object"==typeof window.document&&i&&(window.APP=APP),s});